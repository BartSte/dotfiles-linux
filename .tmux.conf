RED=#FB4934
MAGENTA=#B16286
BACKGROUND=#282828
CLEAN_GREEN=#8EC07C

setw -g mode-keys vi

unbind C-b
set-option -g prefix C-f
bind-key : command-prompt
bind-key r refresh-client
bind-key g choose-session
bind-key R source-file ~/.tmux.conf \; display-message "TMUX reloaded"

# Set copy mode
bind P paste-buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -sel clip -i'

# use vim-like keys for splits and windows
bind-key v split-window -h
bind-key s split-window -v
bind-key m select-pane -L
bind-key n select-pane -D
bind-key e select-pane -U
bind-key i select-pane -R
bind-key + select-layout main-horizontal
bind-key = select-layout main-vertical

bind-key a last-pane
bind-key q display-panes
bind-key c new-window
bind-key C new-window -c "#{pane_current_path}"
set -s user-keys[0] "\e[1;5I"
set -s user-keys[1] "\e[1;6I"
bind-key -n User0 next-window
bind-key -n User1 previous-window

# Urlview
bind-key u capture-pane \; save-buffer /tmp/tmux-buffer \; new-window -n "urlview" '$SHELL -c "urlview < /tmp/tmux-buffer"'

# Allow the arrow key to be used immediately after changing windows
set-option -g repeat-time 0

# Set pane styles
set -g pane-border-style "fg=$CLEAN_GREEN"
set -g pane-active-border-style "fg=$CLEAN_GREEN"

# Set status bar styles
set-window-option -g other-pane-height 25
set-window-option -g other-pane-width 80
set-window-option -g display-panes-time 1500
set-window-option -g window-status-current-style fg=magenta
set-option -g status-interval 1

set -g status-position top
set -g status-justify left
set -g status-style "fg=$CLEAN_GREEN"
set -g status-left ''
set -g status-left-length 20
set -g status-right ''

setw -g window-status-current-style "fg=$BACKGROUND bg=$CLEAN_GREEN"
setw -g window-status-current-format " #I#[fg=$BACKGROUND]:#[fg=$BACKGROUND]#W#[fg=$BACKGROUND]#F "
setw -g window-status-style "fg=$CLEAN_GREEN"
setw -g window-status-format " #I#[fg=$CLEAN_GREEN]:#[fg=$CLEAN_GREEN]#W#[fg=$CLEAN_GREEN]#F "

# Set messages styles
set -g message-style "fg=$RED bg=$BACKGROUND"

# Sessionizer
bind-key -r f run-shell "tmux neww ~/dotfiles-linux/scripts/tmux-sessionizer.bash"
bind-key -r M run-shell "~/dotfiles-linux/scripts/tmux-sessionizer.bash ~"
bind-key -r N run-shell "~/dotfiles-linux/scripts/tmux-sessionizer.bash $WH/code/navigation"
bind-key -r A run-shell "~/dotfiles-linux/scripts/tmux-sessionizer.bash $WH/code/automated-reporting"
bind-key -r I run-shell "~/dotfiles-linux/scripts/tmux-sessionizer.bash $WH/code/fleet-inspector"
bind-key -r D run-shell "~/dotfiles-linux/scripts/tmux-sessionizer.bash $WH/code/dotfiles-navigation-pc/"

# Settings below are recommended by neovim
set-option -g focus-events on
set-option -sg escape-time 10 # https://github.com/neovim/neovim/wiki/FAQ

# https://github.com/neovim/neovim/wiki/FAQ
set-option -g default-terminal "tmux-256color" 
set -ag terminal-overrides ",$TERM:RGB"
# set -sa terminal-overrides ",$TERM:RGB"
#set -sg terminal-overrides ",*:RGB"
